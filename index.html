<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>简化版互动信封网页</title>
    <style>
        /* 基本样式 */
        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            font-family: "微软雅黑", Arial, sans-serif;
            background-color: #f0f0f0;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .container {
            position: relative;
            width: 90%;
            max-width: 600px;
            height: 80%;
            max-height: 800px;
            background-color: #fff;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
            border-radius: 10px;
            overflow: hidden;
        }

        /* 信封样式 */
        .envelope {
            position: absolute;
            width: 100%;
            height: 100%;
            background-image: url('https://i.imgur.com/4AI6VbD.png'); /* 使用在线信封图片 */
            background-size: cover;
            background-position: center;
            transition: transform 1s ease, opacity 1s ease;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            border: 2px solid red; /* 临时边框，用于调试 */
        }

        .envelope.hidden {
            transform: translateY(-100%);
            opacity: 0;
            pointer-events: none;
        }

        .envelope-title {
            font-size: 1.5em;
            color: #333;
            margin-bottom: 20px;
            text-align: center;
        }

        .open-button {
            padding: 10px 20px;
            font-size: 1em;
            background-color: #ffcc00;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        .open-button:hover {
            background-color: #e6b800;
        }

        /* 信纸样式 */
        .letter {
            position: absolute;
            width: 90%;
            height: 80%;
            background-color: #fffbe6;
            border: 2px solid #f0e68c;
            border-radius: 5px;
            padding: 20px;
            box-sizing: border-box;
            display: none;
            overflow: hidden;
            animation: fadeIn 1s forwards;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .letter-content {
            font-size: 1.2em;
            line-height: 1.6em;
            color: #333;
            min-height: 200px;
            position: relative;
        }

        .letter-content span {
            opacity: 0;
            position: relative;
            animation: fadeInLetter 0.3s forwards;
        }

        @keyframes fadeInLetter {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* 翻页按钮样式 */
        .navigation {
            position: absolute;
            width: 100%;
            bottom: 10px;
            display: flex;
            justify-content: space-between;
            padding: 0 20px;
            box-sizing: border-box;
            display: none;
        }

        .nav-button {
            padding: 8px 16px;
            font-size: 1em;
            background-color: #87cefa;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        .nav-button:hover {
            background-color: #00bfff;
        }

        /* 移动端适配 */
        @media (max-width: 600px) {
            .container {
                width: 100%;
                height: 100%;
                border-radius: 0;
            }

            .envelope-title {
                font-size: 1.2em;
            }

            .open-button, .nav-button {
                font-size: 0.9em;
                padding: 8px 16px;
            }

            .letter-content {
                font-size: 1em;
            }
        }
    </style>
</head>
<body>

    <div class="container">
        <!-- 信封 -->
        <div class="envelope" id="envelope">
            <div class="envelope-title">亲爱的朋友</div>
            <button class="open-button" id="openButton">打开信封</button>
        </div>

        <!-- 信纸 -->
        <div class="letter" id="letter">
            <div class="letter-content" id="letterContent">
                <!-- 动态内容 -->
            </div>
        </div>

        <!-- 翻页按钮 -->
        <div class="navigation" id="navigation">
            <button class="nav-button" id="prevPage">上一页</button>
            <button class="nav-button" id="nextPage">下一页</button>
        </div>
    </div>

    <script>
        // JavaScript部分
        console.log("script.js 已加载");

        document.addEventListener('DOMContentLoaded', function() {
            const openButton = document.getElementById('openButton');
            const envelope = document.getElementById('envelope');
            const letter = document.getElementById('letter');
            const letterContent = document.getElementById('letterContent');
            const navigation = document.getElementById('navigation');
            const prevPage = document.getElementById('prevPage');
            const nextPage = document.getElementById('nextPage');

            // 信纸内容数组（多个页面）
            const pages = [
                "亲爱的朋友，\n\n感谢你一直以来的支持与陪伴。今天，我想与你分享一些美好的时光。",
                "希望我们未来的日子里，能继续携手共进，创造更多美好的回忆。",
                "祝你生活愉快，万事如意！期待我们的下一次见面。\n\n此致，\n敬礼！"
            ];

            let currentPage = 0;

            // 打开信封
            openButton.addEventListener('click', function() {
                console.log("打开信封按钮被点击");
                envelope.classList.add('hidden');
                setTimeout(() => {
                    letter.style.display = 'block';
                    displayPage(currentPage);
                }, 1000); // 等待信封动画完成
            });

            // 显示当前页内容
            function displayPage(pageIndex) {
                console.log(`显示第 ${pageIndex + 1} 页内容`);
                letterContent.innerHTML = ''; // 清空之前内容
                if(pageIndex < 0 || pageIndex >= pages.length) return;

                const text = pages[pageIndex];
                const lines = text.split('\n');
                let delay = 0;

                lines.forEach(line => {
                    const p = document.createElement('p');
                    letterContent.appendChild(p);
                    for(let char of line) {
                        const span = document.createElement('span');
                        span.textContent = char;
                        p.appendChild(span);
                        span.style.animationDelay = `${delay}s`;
                        delay += 0.05; // 每个字弹出间隔
                    }
                    p.appendChild(document.createElement('br'));
                });

                // 显示翻页按钮
                if(pages.length > 1){
                    navigation.style.display = 'flex';
                } else {
                    navigation.style.display = 'none';
                }
            }

            // 上一页
            prevPage.addEventListener('click', function() {
                console.log("点击上一页按钮");
                if(currentPage > 0){
                    currentPage--;
                    displayPage(currentPage);
                }
            });

            // 下一页
            nextPage.addEventListener('click', function() {
                console.log("点击下一页按钮");
                if(currentPage < pages.length -1){
                    currentPage++;
                    displayPage(currentPage);
                }
            });
        });
    </script>

</body>
</html>
